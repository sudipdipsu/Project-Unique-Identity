{% extends "layout.html" %}
{% block content %}
    <p><b>Note: </b>You can 'update' or 'delete' your data but you cannot create your next info data.</p>
    <div class="content-section">
        {% if userinfo %}
            <a href="{{url_for('update_info', id = userinfo.user_id) }}" class="btn-update" >Upd/Del</a>
        {% endif %}
        <form action='' method='POST' enctype="multipart/form-data">  <!--  enctype must be selected for photo upload -->
            {{ form.hidden_tag() }}
            <fieldset>
                <legend>Sign up form</legend>

                

                <div class="form-group-pic">
                        <img id="blah" alt="your image" class="rounded-circle1" /><br />
                        {{ form.picture(**{"onchange":"document.getElementById('blah').src = window.URL.createObjectURL(this.files[0])"}) }}
                        <!-- <small><input type="file"onchange="document.getElementById('blah').src = window.URL.createObjectURL(this.files[0])"></small> -->
                        {% if form.picture.errors %}
                            {% for errors in form.picture.errors %}
                                <span class='text-danger'> {{ errors }}</span>
                            {% endfor %}  
                        {% endif %}
                </div>

                <div class="form-group">
                    {{ form.citizenship.label (class="form-control-label" )}}
                        {% if form.citizenship.errors %}
                            {{form.citizenship( class="form-control form-control-lg is-invalid" )}}
                            <div class="invalid-feedback">
                                {% for errors in form.citizenship.errors %}
                                    <span> {{ errors }}</span>
                                {% endfor %}
                            </div>
                        {% else %}
                            {{ form.citizenship(class="form-control form-control-lg") }}
                        {% endif %}
                </div>
                
                <div class="form-group">
                    {{ form.firstname.label (class="form-control-label" )}}

                    {% if form.firstname.errors %}
                        {{form.firstname( class="form-control form-control-lg is-invalid" )}}
                        <div class="invalid-feedback">
                            {% for errors in form.firstname.errors %}
                                <span> {{ errors }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.firstname(class="form-control form-control-lg") }}
                    {% endif %}
                </div>

                <div class="form-group">
                    {{ form.lastname.label (class="form-control-label" )}}

                    {% if form.lastname.errors %}
                        {{form.lastname( class="form-control form-control-lg is-invalid" )}}
                        <div class="invalid-feedback">
                            {% for errors in form.lastname.errors %}
                                <span> {{ errors }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.lastname(class="form-control form-control-lg") }}
                    {% endif %}
                </div>

                <div class="form-group">
                    {{ form.sex.label (class="form-control-label" )}}
                    {{ form.sex }}
                </div>
                
                <div class="form-group">
                    {{ form.dob.label (class="form-control-label" )}}<br>
                    {{ form.dob (class="form-control form-control-lg") }}
                </div>
                

            </fieldset>
            <div>
                {{ form.submit(class = "btn btn-outline-info")}}
            </div>
        </form>
    </div>
{% endblock content %}
